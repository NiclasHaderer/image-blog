(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{5759:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...slug]]",function(){return r(3278)}])},3278:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return G},default:function(){return V}});var n=r(5893),s=r(7294),l=r(1664),a=r.n(l);let o=e=>{let t=window.innerWidth,r=e.xs;return t>=1800?r=e.original:t>=900?r=e.l:t>=500?r=e.md:t>=100&&(r=e.s),r},i=e=>{let[t,r]=(0,s.useState)(o(e));return(0,s.useEffect)(()=>r(()=>o(e)),[e]),t},c=(e,t)=>({original:e.getUrl("original",t),xs:e.getUrl("xs",t),s:e.getUrl("s",t),md:e.getUrl("md",t),l:e.getUrl("lg",t)}),d=(e,t)=>{let[r,n]=(0,s.useState)(c(e,t));return(0,s.useEffect)(()=>n(c(e,t)),[e,t]),r},u=e=>"".concat(e.original," 1800w, ").concat(e.l," 900w, ").concat(e.md," 500w, ").concat(e.s," 100w, ").concat(e.xs," 1w"),m=e=>{let[t,r]=(0,s.useState)(u(e));return(0,s.useEffect)(()=>r(u(e)),[e]),t};var h=r(8695),x=r(4080),g=r(2644),p=r(6917);let f=e=>{let{groupUrls:t,headerSize:r,keywords:s,backgroundImage:l,subheader:a,className:o,title:i,headerColor:c}=e;t=[{label:"Home",href:"/"},...t];let u=m(d(l,"normal"));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("nav",{className:"\n          ".concat(null!=o?o:"","\n          ").concat({small:"h-[20vh] md:h-[25vh]",medium:"h-[40vh] md:h-[50vh] lg:h-[60vh]",large:"h-[60vh] md:h-[70vh] lg:h-[80vh]"}[r],"\n          relative w-full select-none overflow-hidden text-white"),style:{backgroundColor:c},children:[!c&&(0,n.jsx)("img",{className:"absolute inset-0 -z-10 h-full w-full object-cover object-center",...l.getSize("original","normal"),style:r?{scale:"1.1",filter:"brightness(0.7) blur(1px)"}:{},srcSet:u,alt:"Navigation background"}),(0,n.jsx)("h1",{className:"mt-1 pb-1 pt-2 text-center font-amsterdam-four text-5xl leading-loose",children:i}),(0,n.jsx)(w,{groupUrls:t}),(0,n.jsx)(j,{groupUrls:t}),(0,n.jsx)(v,{groupUrls:t})]}),(0,n.jsx)(N,{keywords:s,subheader:a})]})},w=e=>{let{groupUrls:t}=e;return(0,n.jsx)("div",{className:"mt-2 hidden justify-center lg:flex",children:t.map((e,t,r)=>(0,n.jsxs)(a(),{href:e.href,className:"group uppercase",children:[(0,n.jsx)("span",{className:"p-2 group-hover:underline",children:e.label}),t<r.length-1&&(0,n.jsx)("span",{className:"p-2",children:"|"})]},t))})},j=e=>{let{groupUrls:t}=e;return(0,n.jsxs)(h.v,{as:"div",className:"hidden flex-col items-center md:flex lg:hidden",children:[(0,n.jsx)(h.v.Button,{children:(0,n.jsx)(p.Z,{className:"h-14 w-14 cursor-pointer p-1"})}),(0,n.jsx)(x.u,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsx)("div",{className:"relative z-10",children:(0,n.jsx)(h.v.Items,{className:"absolute left-1/2 top-0 w-56 -translate-x-1/2 divide-gray rounded-md bg-elevate shadow-lg focus:outline-none",children:(0,n.jsx)("div",{className:"px-1 py-1",children:t.map((e,t)=>{let{href:r,label:s}=e;return(0,n.jsx)(h.v.Item,{children:(0,n.jsx)(a(),{href:r,className:"flex items-center",children:(0,n.jsx)("span",{className:"w-full whitespace-nowrap rounded-lg px-2 py-1 uppercase text-gray transition-colors hover:bg-elevate-1",children:s})})},t)})})})})})]})},v=e=>{let{groupUrls:t}=e,[r,l]=(0,s.useState)(!1);return(0,n.jsxs)("div",{className:"md:hidden",children:[(0,n.jsx)("button",{onClick:()=>l(!0),style:{"--tw-shadow":"0 25px 50px 5px rgba(0, 0, 0, 0.25)"},className:"fixed bottom-0 left-1/2 z-40 mb-1 -translate-x-1/2 cursor-pointer rounded-xl bg-elevate p-1 text-black shadow-2xl drop-shadow-2xl",children:(0,n.jsx)(p.Z,{className:"h-10 w-10"})}),(0,n.jsx)(x.u,{appear:!0,show:r,as:s.Fragment,children:(0,n.jsxs)(g.V,{as:"div",className:"relative z-50",onClose:()=>l(!1),children:[(0,n.jsx)(x.u.Child,{as:s.Fragment,enter:"ease-in duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-backdrop"})}),(0,n.jsx)(x.u.Child,{as:"div",className:"fixed bottom-0 left-0 right-0",enter:"ease-in-out duration-200",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"ease-in-out duration-150",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,n.jsx)(g.V.Panel,{className:"w-full bg-white shadow-top-2xl",children:t.map((e,t)=>{let{href:r,label:s}=e;return(0,n.jsx)(a(),{href:r,className:"flex items-center",onClick:()=>l(!1),children:(0,n.jsx)("span",{className:"w-full whitespace-nowrap rounded-lg p-2 text-xl uppercase text-gray transition-colors hover:bg-elevate-1",children:s})},t)})})})]})})]})},N=e=>{let{keywords:t,subheader:r}=e;return(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)("h1",{className:"p-2 pt-3 text-center text-2xl font-normal uppercase",children:r}),(0,n.jsx)("div",{className:"flex flex-wrap justify-center py-2",children:t.map((e,t,r)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"p-2 uppercase",children:e}),t<r.length-1&&(0,n.jsx)("span",{className:"select-none",children:"|"})]},t))})]})},y=(e,t)=>{let r=r=>{if(!e[r])throw console.error('The post "'.concat(t,'" does not have the image "').concat(r,'"')),console.error("Allowed values are: ".concat(Object.keys(e).join(", "),".")),Error();return{imageName:r,getUrl:(e,n)=>"/generated-images/".concat(t,"/").concat(r,"/").concat(e).concat("normal"===n?"":"_square",".webp"),getAllSizes(t){return Object.keys(e[r].resolutions[t]).map(e=>({...this.getSize(e,t),src:this.getUrl(e,t)}))},getSize:(t,n)=>e[r].resolutions[n][t],sizes(t){return Object.keys(e[r].resolutions[t]).map(e=>({...this.getSize(e,t),src:this.getUrl(e,t)}))}}};return e=>Array.isArray(e)?e.map(e=>r(e)):r(e)},b=e=>{let{children:t}=e;return(0,n.jsx)("main",{className:"".concat("w-full lg:w-[900px] xl:w-[1000px] mx-auto lg:p-[3rem] transition-all"," p-2"),children:t})};var S=r(5079),z=r(5248);r(3584);let k=()=>{let[e,t]=(0,s.useState)(!0);return(0,s.useEffect)(()=>t(!1),[]),e},E=e=>{let t=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;return t.top>=0&&t.left>=0&&t.bottom<=r&&t.right<=n},P=(e,t)=>{let[r,n]=(0,s.useState)(!!e.current&&E(e.current)),l=(e,t)=>{let[r]=e;n(r.intersectionRatio>0)};return(0,s.useEffect)(()=>{if(!e.current)return;n(E(e.current));let r=new IntersectionObserver(l,{root:null!=t?t:document.body,threshold:[0,.01]});return r.observe(e.current),()=>r.disconnect()},[e,t]),r},C=(e,t)=>{let[r,n]=(0,s.useState)(!1),l=P(e,t);return(0,s.useEffect)(()=>{l&&n(!0)},[l]),r},_={200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},F=(0,s.forwardRef)((e,t)=>{let{image:r,mode:l="normal",fadeInDuration:a=500,alt:o,sizes:i,className:c,...u}=e,h=d(r,l),x=_[a],g=m(h),p=(0,s.useRef)(null),f=C(p),[w,j]=(0,s.useState)(!1),[v,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!w)return;let e=setTimeout(()=>N(!0),a);return()=>clearTimeout(e)},[a,w]);let y=w&&f;return(0,n.jsxs)("div",{className:"relative ".concat(null!=c?c:""),ref:e=>{p.current=e,t&&("function"==typeof t?t(e):t.current=e)},...u,children:[!v&&(0,n.jsx)("div",{className:"absolute inset-0 z-10 overflow-hidden opacity-100 transition-opacity ease-in ".concat(x," ").concat(y?"!opacity-0":""),children:(0,n.jsx)("img",{src:h.xs,...r.getSize("original",l),className:"h-full w-full scale-125 blur-xl",alt:"Placeholder: ".concat(o)})}),(0,n.jsx)("img",{className:"w-full",...r.getSize("original",l),srcSet:g,sizes:i,alt:o,onLoad:()=>j(!0),loading:"lazy",ref:e=>{(null==e?void 0:e.complete)&&setTimeout(()=>j(!0),100)}})]})});F.displayName="Image";let U=e=>{var t,r;let s=d(e.image,null!==(t=e.mode)&&void 0!==t?t:"normal"),l=m(s),a=i(s);return k()?(0,n.jsx)(F,{...e}):(0,n.jsx)(z.ri,{options:{zoom:!1},children:(0,n.jsx)(z.ck,{original:s.original,thumbnail:a,originalSrcset:l,...e.image.getSize("original",null!==(r=e.mode)&&void 0!==r?r:"normal"),children:t=>{let{ref:r,open:s}=t;return(0,n.jsx)(F,{className:"cursor-pointer",...e,onClick:s,ref:r})}})})};var T=r(83);let I=e=>{(0,s.useEffect)(()=>{e()},[])},L=e=>(void 0===e&&(e=window.innerWidth),{width:e,matchDown(t){switch(t){case"xs":return e<640;case"sm":return e<768;case"md":return e<1024;case"lg":return e<1280;case"xl":return e<1536;case"2xl":return!0}}}),D=()=>{let[e,t]=(0,s.useState)(L(0));return(0,s.useEffect)(()=>{let e=()=>{t(L())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),I(()=>{t(L())}),e},O=e=>{let{images:t,mode:r="normal"}=e;return k()?(0,n.jsx)(W,{images:t,mode:r}):(0,n.jsx)(z.ri,{options:{arrowNext:!0,arrowPrev:!0,zoom:!1,counter:!0,loop:!0},children:(0,n.jsx)(W,{images:t,mode:r})})},R=()=>{let e=D(),t="columns",r=5,n=4;return e.matchDown("md")&&(t="columns",r=8,n=2),{layout:t,spacing:r,columns:n}},W=e=>{let{images:t,mode:r="normal"}=e,s=k(),l=R();return(0,n.jsx)(T.Z,{defaultContainerWidth:800,...l,photos:t.map(e=>({srcSet:e.sizes(r),src:e.getUrl("original",r),...e.getSize("original",r),props:e})),renderContainer:e=>{let{containerRef:t,containerProps:{className:r,...s},children:l}=e;return(0,n.jsx)("div",{ref:t,...s,className:"".concat(r," not-prose"),children:l})},renderPhoto:e=>{let{imageProps:{src:t,alt:l,className:a,style:i,width:d,onClick:m,height:h,...x},photo:{props:g}}=e,p=c(g,r),f=u(p),w=o(p);return s?(0,n.jsx)("img",{src:t,alt:l,srcSet:f,style:i,className:"".concat(null!=a?a:""," cursor-pointer"),onClick:m,...x}):(0,n.jsx)(z.ck,{original:p.original,thumbnail:w,originalSrcset:f,...g.getSize("original",r),children:e=>{let{ref:r,open:s}=e;return(0,n.jsx)("img",{src:t,alt:l,srcSet:f,style:i,className:"".concat(null!=a?a:""," cursor-pointer"),ref:r,onClick:e=>{s(e),null==m||m(e)},...x})}})}})},A=e=>{let t=e=>{let t;let r=new Date(e);return t=navigator.languages.find(e=>e.includes("-"))||navigator.language,r.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric"})};(0,s.useEffect)(()=>{n(t(e))},[e]);let[r,n]=(0,s.useState)(new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}));return r},H=e=>{let{title:t,date:r,description:s,images:l,slug:o,headerImage:i,parentPosts:c,capitalizeTitle:d}=e,u=A(r);return(0,n.jsx)(a(),{href:[...c,o].join("/"),className:"flex justify-center drop-shadow-sm transition-all hover:drop-shadow-md",children:(0,n.jsxs)("div",{className:"group mb-2 flex flex-col-reverse items-stretch rounded-2xl bg-white p-2 transition-colors md:flex-row lg:max-w-11/12 2xl:max-w-5/6",children:[(0,n.jsxs)("div",{className:"flex-grow pr-2 pt-1 md:pt-0",children:[(0,n.jsx)("h2",{className:"text-xl font-normal ".concat(d?"uppercase":""),children:t}),r&&(0,n.jsx)("time",{className:"italic text-gray",children:u}),s&&(0,n.jsx)("p",{className:"line-clamp-3 md:line-clamp-4",children:s})]}),(0,n.jsx)("div",{className:"flex w-full items-center pl-1 md:w-1/3 md:min-w-1/3 lg:min-w-1/4 lg:max-w-1/4",children:(0,n.jsx)(F,{sizes:"100vw, (min-width:768px) 33vw, (min-width: 1024px) 20w , (min-width: 1280px) 16vw, (min-width: 1536px) 14vw",className:"max-h-[10rem] w-full overflow-hidden rounded-xl md:h-auto",image:y(l,[...c,o].join("/"))(i),alt:"Header image: ".concat(t)})})]})})},Z=e=>{let{posts:t,parentPosts:r}=e;return(0,n.jsx)(n.Fragment,{children:t.map((e,t,l)=>(0,n.jsx)(s.Fragment,{children:(0,n.jsx)(H,{...e,parentPosts:r},t)},t))})},B=e=>{let{post:t,parentPosts:r,children:s}=e,l={blog:Z}[t.childPostLayout];return(0,n.jsxs)(n.Fragment,{children:["top"===t.childPostPosition&&(0,n.jsx)(l,{posts:t.childPosts,parentPosts:r}),s,"bottom"===t.childPostPosition&&(0,n.jsx)(l,{posts:t.childPosts,parentPosts:r})]})};var G=!0;function V(e){let{post:t,navigation:r,parentPosts:s}=e,l=y(t.images,s.join("/"));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f,{headerSize:t.headerSize,keywords:t.topKeywords,groupUrls:r,title:t.title,backgroundImage:l(t.headerImage),headerColor:t.headerColor,subheader:t.subheader}),(0,n.jsx)(b,{children:(0,n.jsx)(B,{post:t,parentPosts:s,children:(0,n.jsx)("article",{className:"prose prose-lg max-w-none",children:(0,n.jsx)(S.R,{...t.content,components:{Image:F,LightboxImage:U,Gallery:O},scope:{getImage:l}})})})})]})}}},function(e){e.O(0,[687,623,888,774,179],function(){return e(e.s=5759)}),_N_E=e.O()}]);